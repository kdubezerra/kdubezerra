%
% exemplo genérico de uso da classe iiufrgs.cls
% $Id: iiufrgs.tex,v 4.6 2003/11/21 22:36:13 avila Exp $
%
\documentclass[plano-doutorado]{iiufrgs}
% um tipo específico de monografia pode ser informado como parâmetro opcional:
%\documentclass[tese]{iiufrgs}
% monografias em inglês devem receber o parâmetro `english':
%\documentclass[diss,english]{iiufrgs}
% a opção `openright' pode ser usada para forçar inícios de capítulos
% em páginas ímpares
% \documentclass[openright]{iiufrgs}
% para gerar uma versão somente-frente, basta utilizar a opção `oneside':
% \documentclass[oneside]{iiufrgs}
\usepackage[T1]{fontenc}        % pacote para conj. de caracteres correto
\usepackage[latin1]{inputenc}   % pacote para acentuação
\usepackage{graphicx}           % pacote para importar figuras
\usepackage{times}              % pacote para usar fonte Adobe Times
%\usepackage{mathptmx}          % p/ usar fonte Adobe Times nas fórmulas
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[english]{babel}

%\renewcommand{\labelenumii}{\alph{enumii}.}

\hyphenation{di-fe-ren-tes}
\hyphenation{re-qui-si-to}
\hyphenation{sa-tis-fa-tó-ria}
\hyphenation{a-tu-a-li-za-ções}
\hyphenation{res-trin-ge}
\hyphenation{pre-ci-sa-rão}
\hyphenation{to-le-rân-cia}
\hyphenation{vo-lun-tá-rios}
\hyphenation{com-pa-ti-bi-li-da-de}
\hyphenation{si-mu-la-ções}
\hyphenation{si-mu-la-ção}
\hyphenation{com-par-ti-lha-do}
\hyphenation{se-me-lhan-tes}
\hyphenation{e-co-no-mi-zar}
\hyphenation{ge-ren-cia-men-to}

%\renewcomd{\listalgorithmname}{Lista de Algoritmos}

%
% Informações gerais
%
\title{A decentralized network support middleware for MMOGs% with limited computer resourcesem cenários com recursos computacionais limitados%Uma proposta de arquitetura híbrida (par-a-par e cliente-servidor) para jogos online maciçamente distribuídos 
}

\author{Benevides Bezerra}{Carlos Eduardo}
% alguns documentos podem ter varios autores:
%\author{Flaumann}{Frida Gutenberg}
%\author{Flaumann}{Klaus Gutenberg}

% orientador e co-orientador são opcionais (não diga isso pra eles :))
\advisor[Prof.~Dr.]{Resin Geyer}{Cláudio Fernando}
%\coadvisor[Prof.~Dr.]{Knuth}{Donald Ervin}

% a data deve ser a da defesa; se nao especificada, são gerados
% mes e ano correntes
\date{September}{2009}

% o nome do curso pode ser redefinido (ex. para TCs)
%\course{Curso de Especialização em Cachaça}

% o local de realização do trabalho pode ser especificado (ex. para TCs)
% com o comando \location:
%\location{Itaquaquecetuba}{SP}

% itens individuais da nominata podem ser redefinidos com os comandos
% abaixo:
% \renewcommand{\nominataReit}{Prof\textsuperscript{a}.~Wrana Maria Panizzi}
% \renewcommand{\nominataReitname}{Reitora}
% \renewcommand{\nominataPRE}{Prof.~Jos{\'e} Carlos Ferraz Hennemann}
% \renewcommand{\nominataPREname}{Pr{\'o}-Reitor de Ensino}
% \renewcommand{\nominataPRAPG}{Prof\textsuperscript{a}.~Joc{\'e}lia Grazia}
% \renewcommand{\nominataPRAPGname}{Pr{\'o}-Reitora Adjunta de P{\'o}s-Gradua{\c{c}}{\~a}o}
% \renewcommand{\nominataDir}{Prof.~Philippe Olivier Alexandre Navaux}
% \renewcommand{\nominataDirname}{Diretor do Instituto de Inform{\'a}tica}
% \renewcommand{\nominataCoord}{Prof.~Carlos Alberto Heuser}
% \renewcommand{\nominataCoordname}{Coordenador do PPGC}
% \renewcommand{\nominataBibchefe}{Beatriz Regina Bastos Haro}
% \renewcommand{\nominataBibchefename}{Bibliotec{\'a}ria-chefe do Instituto de Inform{\'a}tica}
% \renewcommand{\nominataChefeINA}{Prof.~Jos{\'e} Valdeni de Lima}
% \renewcommand{\nominataChefeINAname}{Chefe do \deptINA}
% \renewcommand{\nominataChefeINT}{Prof.~Leila Ribeiro}
% \renewcommand{\nominataChefeINTname}{Chefe do \deptINT}


%\renewcommand{\ALG@name}{Algoritmo}


% A seguir são apresentados comandos específicos para alguns
% tipos de documentos.

% Relatório de Pesquisa [rp]:
% \rp{123}             % numero do rp
% \financ{CNPq, CAPES} % orgaos financiadores

% Trabalho Individual [ti]:
% \ti{123}     % numero do TI
% \ti[II]{456} % no caso de ser o segundo TI

% Trabalho de Conclusão [tc]:
% além de definir explicitamente o nome do curso (\course) e o local
% de realização (\location), é necessário redefinir a nominata,
% pois as informações necessárias dependem do curso. Ex.:
%\renewcommand{\nominata}{
%        UNIVERSIDADE FEDERAL DO RIO GRANDE DO SUL\\
%        Reitora: Prof\textsuperscript{a}.~Wrana Maria Panizzi\\
%        Pró-Reitor de Ensino: Prof.~José Carlos Ferraz Hennemann\\
%        Diretor do Instituto de Informática: Prof.~Philippe Olivier Alexandre Navaux\\
%        Coordenador do curso: Prof.~Seu Creysson\\
%        Bibliotecária-chefe do Instituto de Informática: Beatriz Regina Bastos Haro
%}

% Monografias de Especialização [espec]:
% \espec{Redes e Sistemas Distribuídos}      % nome do curso
% \coord[Profa.~Dra.]{Weber}{Taisy da Silva} % coordenador do curso
% \dept{INA}                                 % departamento relacionado

%
% palavras-chave
% iniciar todas com letras minúsculas, exceto no caso de abreviaturas
%
\keyword{massively multiplayer online games}
\keyword{MMOG}
\keyword{distributed server}
\keyword{distributed interactive simulation}

\hyphenation{ma-ci-ça-men-te}
%
% inicio do documento
%
\begin{document}

% folha de rosto
% às vezes é necessário redefinir algum comando logo antes de produzir
% a folha de rosto:
% \renewcommand{\coordname}{Coordenadora do Curso}
%\maketitle

% dedicatoria
%\clearpage
%\begin{flushright}
%\mbox{}\vfill
%{\sffamily\itshape
%``Se eu enxerguei mais longe,\\
% foi porque me apoiei nos ombros de gigantes.''\\}--- \textsc{Sir~Isaac Newton}
%\end{flushright}
%
%% agradecimentos
%\chapter*{Agradecimentos}
%Agradeço a todos\ldots

% sumario
%\tableofcontents

% lista de abreviaturas e siglas
% o parametro deve ser a abreviatura mais longa
%\begin{listofabbrv}{SPMD}
%		\item[CRN] Continuous Random Networks (Redes Aleatórias Contínuas)
%		\item[WWW] Wooten-Winer-Weaire
%		\item[DM] Dinâmica Molecular
%\end{listofabbrv}

% idem para a lista de símbolos
%\begin{listofsymbols}{$\alpha\beta\pi\omega$}
%       \item[$\sum{\frac{a}{b}}$] Somatório do produtório
%       \item[$\alpha\beta\pi\omega$] Fator de inconstância do resultado
%\end{listofsymbols}

% lista de figuras
%\listoffigures

% lista de tabelas
%\listoftables

% resumo na língua do documento

%\begin{abstract}

% This doctorate study plan proposes the research and creation of a novel support model for MMOGs (massively multiplayer online games), by using large-scale systems similar to those created for sharing of computing resources, such as file sharing peer-to-peer networks. Following this model, a distributed system could be formed to act as a server for an MMOG. Then, a portion of the game's communication and processing load would be delegated to each node of the server system -- more precisely, the game's virtual environment would be partitioned into regions, each of which managed by one or more server nodes. Such a system would be perceived by the players as an unique central servel to which they connect via a gateway. Upon connected, each player is seamlessly redirected to the appropriate server node. However, for such server system to work as expected, some issues must be addressed, such as maintaining the game state consistent among the different game server nodes, so each player has the same vision; management and balancing of the load assigned to the different server nodes; what to do when a node crashes or leaves the server system and, finally, how to broadcast and store the game state to the players in a distributed manner so that its most recent state can be restored even in the presence of system failures.

% \end{abstract}

%\chapter{Introduction}

%\begin{figure}%
%\includegraphics[width=\columnwidth]{avatarsdistribution}%
%\caption{}%
%\label{}%
%\end{figure}

Massively multiplayer online games (MMOGs) are the theme of this study plan. Usually a client-server infrastructure is used to support this kind of games. This plan proposes the investigation and definition of a novel distribution model to be used for MMOGs, reducing the maintenance cost of the game server. In the next sections, the state of the art regarding this area will be presented.

\section{Multiplayer games}

% o que são
% breve histórico e exemplos
% requisitos computacionais (sem mtos detalhes)

In the past few decades, since the creation of the personal computer, computer games have enjoyed an evergrowing popularity. After the acess to the Internet became widely available to the general public, with increasingly fast and cheap domestic connections, multiplayer online games have become an important market. To illustrate this, a study from 2006 estimated that the online games market would grow from US\$ 3.4 billion in 2005 to US\$ 13 billion in 2011 \cite{intelligence2006online}. The main characteristic of the MMOGs is the large number of concurrent players interacting with one another through the Internet. As examples of well-known online multiplayer games, we may cite \emph{Quake} \cite{quake} as a classic FPS game; \emph{Starcraft: Brood War} \cite{broodwar} a classic RTS game still played nowadays and Diablo II \cite{diablo2} as an RPG example.


\section{Massively multiplayer online games (MMOGs)}
%TODO: por um monte de referências a MMOGs, do tipo (de maior sucesso são X, Y, Z), outros exemplos são A, B, C
% requisitos computacionais elevados a 1000

After single-player computer games evolved to multiplayer online games with the advent of the Internet, MMOGs emerged as a new trend because of the decrease of the domestic Internet connection cost and the increase of its average bandwidth. This kind of games have become very popular in the latest years because they allow the online interaction of a massive number of players at the same time. In the most succesful cases, such as World of Warcraft \cite{worldofwarcraft}, Lineage II \cite{lineage2} and EVE Online \cite{eveonline}, for example, tens of thousands of players are supported simultaneously \cite{chen2006pch}. These players can, then, interact with one another and with the virtual environment of the game.

One of the main features of these games, present in almost all commercial MMOGs, is that the matches are very long. In some MMORTS (real-time strategy MMOGs), such as Travian \cite{travian}, the games come to last from six months to one year. MMORPGs (MMOGs in RPG style), as is the case of World of Warcraft, the games have no given time to end. The worlds of these games are so vast and populous -- as regards the number of players -- that they may evolve and modify their state independently of some players being playing it or not, because there is always someone connected so the game never stops. For this reason, it is expected that each player can disconnect and continue playing later, without having to start from scratch. Moreover, it is expected that changes made on the game world persist, no matter how many times each player enters and leaves.

Generally, each player controls an entity called \emph{avatar}, which is nothing more than his representation in the virtual environment -- a character who executes the orders given by the player, therefore interfering in the history and in the outcome of the game. For the game to remain consistent for the different participants, each action performed by each avatar must be processed by the server, which calculates the game state resulting from such action. This new state is then broadcast to other players. Other changes in the game world, such as destruction or creation of objects in the environment, and events such as actions of characters controlled by the server must also be sent to the players involved. It is then through these messages sent by the player to the server and in the opposite direction that players can interact with each other and with the simulated world of the game.

However, it is perceived that such a mechanism can easily saturate the bandwidth and overload the cpu(s) of the server. What is usually done is build an infrastructure with a large central server, usually a cluster with its nodes connected through a local high-speed and low latency network, with an Internet connection of some hundreds or thousands of MBps. The greatest cost comes from maintaining this connection, whose main purpose is to maintain every player as up-to-date as possible about the game state -- naturally, tolerating some delay, which should not be over a given threshold.

%Jogos dessa natureza têm alguns requisitos \cite{schiele2007rpp}, dentre os quais podem ser citados: \textbf{persistência} do estado do mundo virtual e dos avatares; \textbf{disponibilidade} do serviço; \textbf{consistência} do estado do mundo e dos avatares entre os diferentes participantes; \textbf{resistência a trapaça}, no que se refere a tentativas de subversão das regras do jogo por jogadores desonestos e \textbf{escalabilidade}, tendo em vista que o grande número de jogadores poderá facilmente sobrecarregar a infra-estrutura de suporte se esta não tiver capacidade de processamento e, principalmente, largura de banda suficientes.

\section{Studying in Switzerland}

This doctorate study plan proposes the research and creation of a novel support model for MMOGs (massively multiplayer online games), by using large-scale systems similar to those created for sharing of computing resources, such as file sharing peer-to-peer networks. Following this model, a distributed system could be formed to act as a server for an MMOG. Then, a portion of the game's communication and processing load would be delegated to each node of the server system -- more precisely, the game's virtual environment would be partitioned into regions, each of which managed by one or more server nodes. Such a system would be perceived by the players as an unique central servel to which they connect via a gateway. Upon connected, each player is seamlessly redirected to the appropriate server node. However, for such server system to work as expected, some issues must be addressed, such as maintaining the game state consistent among the different game server nodes, so each player has the same vision; management and balancing of the load assigned to the different server nodes; what to do when a node crashes or leaves the server system and, finally, how to broadcast and store the game state to the players in a distributed manner so that its most recent state can be restored even in the presence of system failures.

\end{document}
