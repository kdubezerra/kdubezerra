%
% exemplo genérico de uso da classe iiufrgs.cls
% $Id: iiufrgs.tex,v 4.6 2003/11/21 22:36:13 avila Exp $
%
\documentclass[plano-doutorado]{iiufrgs}
% um tipo específico de monografia pode ser informado como parâmetro opcional:
%\documentclass[tese]{iiufrgs}
% monografias em inglês devem receber o parâmetro `english':
%\documentclass[diss,english]{iiufrgs}
% a opção `openright' pode ser usada para forçar inícios de capítulos
% em páginas ímpares
% \documentclass[openright]{iiufrgs}
% para gerar uma versão somente-frente, basta utilizar a opção `oneside':
% \documentclass[oneside]{iiufrgs}
\usepackage[T1]{fontenc}        % pacote para conj. de caracteres correto
\usepackage[latin1]{inputenc}   % pacote para acentuação
\usepackage{graphicx}           % pacote para importar figuras
\usepackage{times}              % pacote para usar fonte Adobe Times
%\usepackage{mathptmx}          % p/ usar fonte Adobe Times nas fórmulas
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[english]{babel}

%\renewcommand{\labelenumii}{\alph{enumii}.}

\hyphenation{di-fe-ren-tes}
\hyphenation{re-qui-si-to}
\hyphenation{sa-tis-fa-tó-ria}
\hyphenation{a-tu-a-li-za-ções}
\hyphenation{res-trin-ge}
\hyphenation{pre-ci-sa-rão}
\hyphenation{to-le-rân-cia}
\hyphenation{vo-lun-tá-rios}
\hyphenation{com-pa-ti-bi-li-da-de}
\hyphenation{si-mu-la-ções}
\hyphenation{si-mu-la-ção}
\hyphenation{com-par-ti-lha-do}
\hyphenation{se-me-lhan-tes}
\hyphenation{e-co-no-mi-zar}
\hyphenation{ge-ren-cia-men-to}

%\renewcomd{\listalgorithmname}{Lista de Algoritmos}

%
% Informações gerais
%
\title{A decentralized network support middleware for MMOGs% with limited computer resourcesem cenários com recursos computacionais limitados%Uma proposta de arquitetura híbrida (par-a-par e cliente-servidor) para jogos online maciçamente distribuídos 
}

\author{Benevides Bezerra}{Carlos Eduardo}
% alguns documentos podem ter varios autores:
%\author{Flaumann}{Frida Gutenberg}
%\author{Flaumann}{Klaus Gutenberg}

% orientador e co-orientador são opcionais (não diga isso pra eles :))
\advisor[Prof.~Dr.]{Resin Geyer}{Cláudio Fernando}
%\coadvisor[Prof.~Dr.]{Knuth}{Donald Ervin}

% a data deve ser a da defesa; se nao especificada, são gerados
% mes e ano correntes
\date{September}{2009}

% o nome do curso pode ser redefinido (ex. para TCs)
%\course{Curso de Especialização em Cachaça}

% o local de realização do trabalho pode ser especificado (ex. para TCs)
% com o comando \location:
%\location{Itaquaquecetuba}{SP}

% itens individuais da nominata podem ser redefinidos com os comandos
% abaixo:
% \renewcommand{\nominataReit}{Prof\textsuperscript{a}.~Wrana Maria Panizzi}
% \renewcommand{\nominataReitname}{Reitora}
% \renewcommand{\nominataPRE}{Prof.~Jos{\'e} Carlos Ferraz Hennemann}
% \renewcommand{\nominataPREname}{Pr{\'o}-Reitor de Ensino}
% \renewcommand{\nominataPRAPG}{Prof\textsuperscript{a}.~Joc{\'e}lia Grazia}
% \renewcommand{\nominataPRAPGname}{Pr{\'o}-Reitora Adjunta de P{\'o}s-Gradua{\c{c}}{\~a}o}
% \renewcommand{\nominataDir}{Prof.~Philippe Olivier Alexandre Navaux}
% \renewcommand{\nominataDirname}{Diretor do Instituto de Inform{\'a}tica}
% \renewcommand{\nominataCoord}{Prof.~Carlos Alberto Heuser}
% \renewcommand{\nominataCoordname}{Coordenador do PPGC}
% \renewcommand{\nominataBibchefe}{Beatriz Regina Bastos Haro}
% \renewcommand{\nominataBibchefename}{Bibliotec{\'a}ria-chefe do Instituto de Inform{\'a}tica}
% \renewcommand{\nominataChefeINA}{Prof.~Jos{\'e} Valdeni de Lima}
% \renewcommand{\nominataChefeINAname}{Chefe do \deptINA}
% \renewcommand{\nominataChefeINT}{Prof.~Leila Ribeiro}
% \renewcommand{\nominataChefeINTname}{Chefe do \deptINT}


%\renewcommand{\ALG@name}{Algoritmo}


% A seguir são apresentados comandos específicos para alguns
% tipos de documentos.

% Relatório de Pesquisa [rp]:
% \rp{123}             % numero do rp
% \financ{CNPq, CAPES} % orgaos financiadores

% Trabalho Individual [ti]:
% \ti{123}     % numero do TI
% \ti[II]{456} % no caso de ser o segundo TI

% Trabalho de Conclusão [tc]:
% além de definir explicitamente o nome do curso (\course) e o local
% de realização (\location), é necessário redefinir a nominata,
% pois as informações necessárias dependem do curso. Ex.:
%\renewcommand{\nominata}{
%        UNIVERSIDADE FEDERAL DO RIO GRANDE DO SUL\\
%        Reitora: Prof\textsuperscript{a}.~Wrana Maria Panizzi\\
%        Pró-Reitor de Ensino: Prof.~José Carlos Ferraz Hennemann\\
%        Diretor do Instituto de Informática: Prof.~Philippe Olivier Alexandre Navaux\\
%        Coordenador do curso: Prof.~Seu Creysson\\
%        Bibliotecária-chefe do Instituto de Informática: Beatriz Regina Bastos Haro
%}

% Monografias de Especialização [espec]:
% \espec{Redes e Sistemas Distribuídos}      % nome do curso
% \coord[Profa.~Dra.]{Weber}{Taisy da Silva} % coordenador do curso
% \dept{INA}                                 % departamento relacionado

%
% palavras-chave
% iniciar todas com letras minúsculas, exceto no caso de abreviaturas
%
\keyword{massively multiplayer online games}
\keyword{MMOG}
\keyword{distributed server}
\keyword{distributed interactive simulation}

\hyphenation{ma-ci-ça-men-te}
%
% inicio do documento
%
\begin{document}

% folha de rosto
% às vezes é necessário redefinir algum comando logo antes de produzir
% a folha de rosto:
% \renewcommand{\coordname}{Coordenadora do Curso}
%\maketitle

% dedicatoria
%\clearpage
%\begin{flushright}
%\mbox{}\vfill
%{\sffamily\itshape
%``Se eu enxerguei mais longe,\\
% foi porque me apoiei nos ombros de gigantes.''\\}--- \textsc{Sir~Isaac Newton}
%\end{flushright}
%
%% agradecimentos
%\chapter*{Agradecimentos}
%Agradeço a todos\ldots

% sumario
%\tableofcontents

% lista de abreviaturas e siglas
% o parametro deve ser a abreviatura mais longa
%\begin{listofabbrv}{SPMD}
%		\item[CRN] Continuous Random Networks (Redes Aleatórias Contínuas)
%		\item[WWW] Wooten-Winer-Weaire
%		\item[DM] Dinâmica Molecular
%\end{listofabbrv}

% idem para a lista de símbolos
%\begin{listofsymbols}{$\alpha\beta\pi\omega$}
%       \item[$\sum{\frac{a}{b}}$] Somatório do produtório
%       \item[$\alpha\beta\pi\omega$] Fator de inconstância do resultado
%\end{listofsymbols}

% lista de figuras
%\listoffigures

% lista de tabelas
%\listoftables

% resumo na língua do documento

%\begin{abstract}

% This doctorate study plan proposes the research and creation of a novel support model for MMOGs (massively multiplayer online games), by using large-scale systems similar to those created for sharing of computing resources, such as file sharing peer-to-peer networks. Following this model, a distributed system could be formed to act as a server for an MMOG. Then, a portion of the game's communication and processing load would be delegated to each node of the server system -- more precisely, the game's virtual environment would be partitioned into regions, each of which managed by one or more server nodes. Such a system would be perceived by the players as an unique central servel to which they connect via a gateway. Upon connected, each player is seamlessly redirected to the appropriate server node. However, for such server system to work as expected, some issues must be addressed, such as maintaining the game state consistent among the different game server nodes, so each player has the same vision; management and balancing of the load assigned to the different server nodes; what to do when a node crashes or leaves the server system and, finally, how to broadcast and store the game state to the players in a distributed manner so that its most recent state can be restored even in the presence of system failures.

% \end{abstract}

%\chapter{Introduction}

%\begin{figure}%
%\includegraphics[width=\columnwidth]{avatarsdistribution}%
%\caption{}%
%\label{}%
%\end{figure}

%=============================================================================
%PARÁGRAFO INICIAL
%=============================================================================
\chapter*{Study plan}

This study plan proposes a research project focused on the theme of massively multiplayer online games (MMOGs). Although this kind of games is usually deployed on a client-server infrastructure, with a large and expensive central server, it is possible to use a network with a decentralized architecture. Therefore, ways of providing such decentralized support should be investigated, reducing the maintenance cost of these games, while still providing the basic requirements of MMOGs.

%=============================================================================
%CONTEXTO
%=============================================================================
\section*{Context}

Some years ago, with the broader access to the Internet, the traditional computer games have evolved to multiplayer online games, but with no much more than ten or twenty players in a single match. After that, in the past few years, with faster, cheaper -- when compared to a decade ago --, and more reliable Internet connections, a new game genre has arised as a new trend, which is the MMOG, with potentially tens of thousans of simultaneous players. Some studies demonstrate that the market share of these massively multiplayer games will keep growing at a considerable rate -- according to \cite{intelligence2006online}, the online games market will grow from US\$ 3.4 billion in 2005 to US\$ 13 billion in 2011.

The main reason for the success of these games is the kind of interaction they allow. Usually, such games contain a virtual environment, where its numerous players may interact in many different ways, from fighting -- cooperatively, against artificial intelligence controlled monsters, or even dueling, and fighting each other -- to trading in-game objects -- like weapons and armor in medieval fantasy games -- or just chatting in some place of the game virtual world. This game world, besides, is persistent, i.e. the changes resulting from the player actions will persist, no matter if they keep playing continuously or if they disconnect from the game for a while.

This persitence constitutes one of the main features of these games, whose matches usually do not have any predetermined time to end. There are some exceptions, such as MMORTS (real-time strategy MMOGs), with matches lasting from six months to one year \cite{travian}, what is still considerably long for a game. Most MMOGs, however, have no such time to finish, creating the illusion of a parallel world into which the players may transport themselves when they so desire.

Each player interacts with the virtual environment -- or game world -- by controlling an entity called \emph{avatar}. Each avatar is a representation of a player in the virtual environment -- e.g. a sniper in a war game, a medieval knight in a fantasy game, a gangster or any other controllable character. The avatar performs the actions requested by the player, interfering in the game world and potentially changing its state and the state of other avatars. In the traditional central server model, each player sends his desired actions to the server, which processes them, calculating their outcome, represented as new states for the world and for some avatars. These new states are then broadcast to other players, so they can perceive the changes. The server also acts as an arbiter, who decides the actions performed by non-playable characters -- such as dungeon inhabitants, who might attack anyone who enters there --, whose state is also sent to the players.

It is easy to observe that the central server, receiving actions from thousands of players and broadcasting the resulting state of each of these actions to, potentially, every player, is prone to have its processing power and, specially, its bandwidth saturated by the game. The machine serving the game is, usually, a cluster consisting of nodes connected via a fast and low-latency local network, providing the necessary processing power, and with a very fast Internet connection \cite{feng2007wnn}, whose transmission rate ranges from hundreds of MBps to several GBps, or more. Obviously, such infrastructure is highly expensive, preventing small game developing companies or independent groups with low financial resources to enter the MMOG market.

The purpose of this study plan is, therefore, to develop an innovative solution with a decentralized approach. More specifically, it is intended to create a middleware which uses a decentralized overlay network such as those used for resource sharing -- e.g. Pastry \cite{rowstron2001psd}, Tapestry \cite{zhao2004trg}, Koord \cite{kaashoek2003ksd} and others -- to create a geographically distributed system composed of low-cost volunteer nodes. This system will then act as a geographically distributed server to which the players connect via a gateway. Obviously, this model brings several questions, which were trivial to solve when using the traditional server architecture, but that become much more complex in a geographically distributed server scenario, such as: state consistency among the server nodes; coordination of entry, exit and crash of some of them, in order to keep the service available as much as possible; distributed persistence; optimal management of the scarce resources of the server system; and so on.

%=============================================================================
%POR QUE A SUÍÇA.
%=============================================================================
\section*{Studying in Switzerland}

Dr. Fernando Pedone, associate professor at USI (Universittà della Svizzera italiana), in Lugano, heads a research group working on the area of distributed systems and distributed data management systems. His work has addressed issues related to reliability, as well as replication in such systems by using group communication abstractions. These research topics are closely related to the MMOG study plan outlined here, for the intended MMOG server system has reliability as one of its critical questions to solve. Also, the distributed state persistence and consistency fit on the definition of replicated distributed data management system, only adding some requirements specific to MMOGs (such as timeliness on the retrieval and storage of parts of the game state).

 As another reason for studying in Switzerland, it may be mentioned that the close interaction with researchers from the University of Lugano, working on a closely related area, will provide a good environment to the conception of new ideas regarding the research project presented here. Besides, Prof. Pedone has accepted to work with me in this project and, after several personal meetings and discussions via e-mail, many details of the research plan have already been discussed, and the granting of a scholarship would be a final need to execute this project.


%=============================================================================
%CRONOGRAMA
%=============================================================================
\section*{Work schedule}

To achieve the goals outlined for the research project, a schedule has been designed, considering a nine-month academic year. This period has been chosen to fit the length of the scholarship to which this application refers. %In Switzerland, it is intended to execute some of the essencial parts of the research project designed for a Ph.D. course in UFRGS (Brazil). This project will, therefore, result in an international cooperation between both UFRGS and the Swiss university.
The tasks to be performed in Switzerland are:

\begin{enumerate}
 
  \item Detailed definition of the services to be provided by the MMOG decentralized support middleware, such as:   

    \begin{enumerate}     
     \item Synchronization of the virtual environment simulation among the server nodes;
     \item State storage and retrieval;
     \item Management of the entrance and exit of nodes in the server system;
     \item Fault-tolerance, by allowing the system to keep working correctly even upon unexpected disconnection or crash of some servers;
    \end{enumerate}

  \item Research and development of innovative solutions to deliver these services, considering the needs of MMOGs:

    \begin{enumerate}
      \item Develop algorithms or techniques to manage the consistency of the game world simulation among the server nodes of the system;

      \item Build a distribute persitence scheme, to store and retrieve the persistent state of the game, using replication and providing reliability, while minimizing the delay of each operation;

      \item Design algorithms to reduce the inter-server communication overhead, preventing state-related network messages from overloading the server system;

      \item Create an abstraction for these services, so that the game developer who uses the intended middleware will not have to consider questions regarding the distribution of the server;
    \end{enumerate}

  \item Create a prototype which implements these services;

  \item Validate the proposed middleware by simulations.

\end{enumerate}

Also, besides attending to a local language course, publications are expected. The work schedule for the period in Switzerland is intended to be as follows:

\begin{table}[h]
\begin{center}
%\caption{Créditos a obter}
\label{tab:creditos}
\begin{tabular}{|c||c|c|c|c|c|c|c|c|c|}
\hline
Task   & Sep & Oct & Nov & Dec & Jan & Fev & Mar & Apr & May \\ \hline \hline
Language course & X & X & X &   &   &   &   &   &  \\ \hline
1       & X &   &   &   &   &   &   &   &   \\ \hline
2 (a)   &   & X & X &   &   &   &   &   &   \\ \hline
2 (b)   &   &   &   & X & X &   &   &   &   \\ \hline
2 (c and d) & & &   &   &   & X & X &   &   \\ \hline
3           & & &   &   &   & X & X & X &   \\ \hline
4           & & &   &   &   &   &   &   & X \\ \hline
Writing of papers     & & & X & X & X & X & X & X & X \\ \hline

\end{tabular}
\end{center}
\end{table}


%todas as etapas irão gerar produções bibliográficas


%=============================================================================
%BIBLIOGRAFIA

\bibliography{planodoc}
\bibliographystyle{unsrt} 

\end{document}
